#!/usr/bin/env php
<?php

use ZnCore\Base\Legacy\Yii\Helpers\ArrayHelper;
use ZnCore\Base\Libs\App\Factories\ApplicationFactory;
use ZnCore\Base\Libs\App\Factories\KernelFactory;
use ZnCore\Base\Libs\DotEnv\DotEnv;
use App\TelegramClient\Kernel;




require __DIR__ . '/../../vendor/autoload.php';

DotEnv::init();

$bundles = [
    new \ZnCore\Base\Libs\App\Bundle(['all']),
    new \ZnTool\Package\Bundle(['all']),
    new \ZnSandbox\Sandbox\Bundle\Bundle(['all']),
    new \ZnSandbox\Sandbox\Generator\Bundle(['all']),
];

$bundles = ArrayHelper::merge($bundles, include __DIR__ . '/../../' . DotEnv::get('BUNDLES_CONFIG_FILE'));
$kernel = KernelFactory::createConsoleKernel($bundles);


$kernel1 = new Kernel;
$kernel1->init($kernel->getContainer());



$application = ApplicationFactory::createConsole($kernel);

$application->run();
